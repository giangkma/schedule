(this["webpackJsonpschedule-kma"]=this["webpackJsonpschedule-kma"]||[]).push([[0],{254:function(e,t,a){e.exports=a.p+"static/media/avatar-default.17b08a8e.png"},269:function(e,t,a){e.exports=a(474)},464:function(e,t,a){},471:function(e,t,a){},472:function(e,t,a){},473:function(e,t,a){},474:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(24),c=a.n(o),l=a(73),i=a(99),u=a(102),s=a(101),m=a(107),h=a(507),d=a(263),p=a(511),f=a(259),g=a.n(f),v=a(253),E=a.n(v),b=a(49),w=a(66),O=a.n(w),k=a(254),N=a.n(k),y=a(255),j=a.n(y),D=function e(t){var a=this;Object(l.a)(this,e),this.fetchDataSchedulesApi=function(e){var t={header:{Accept:"application/json","Content-Type":"application/json"},method:"GET",redirect:"follow"};return j()("".concat(a.domain,"/").concat(e),t).then((function(e){return Promise.resolve(e)}))},this.domain=t||"https://5f3a9d2f2300b100169a8efe.mockapi.io"},C=(a(464),["agenda","month","day","week"]),S=["1,2,3","4,5,6","7,8,9","10,11,12","13,14,15,16"],L=[7,9,12,15,18],A=[0,35,30,5,0],M=[9,12,14,17,21],x=[25,0,55,30,15],T=function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).optionChanged=function(e){"currentDate"===e.fullName&&n.setState({currentDate:e.value})},n.handleMenuClose=function(){n.setState({anchorEl:null})},n.renderMenu=function(){var e=n.state.anchorEl,t=Boolean(e);return r.a.createElement(d.a,{className:"menu-account",anchorEl:e,anchorOrigin:{vertical:"top",horizontal:"right"},id:"menu",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:t,onClose:n.handleMenuClose},r.a.createElement("div",{className:"user-account"},r.a.createElement(p.a,{onClick:n.logOut},"\u0110\u0103ng xu\u1ea5t")))},n.logOut=function(){n.props.history.replace("/schedule"),localStorage.removeItem("fullName")},n.handleProfileMenuOpen=function(e){n.setState({anchorEl:e.currentTarget})},n.state={currentDate:new Date,data:[],anchorEl:null,fullName:null},n.Auth=new D,n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.history,a=localStorage.getItem("fullName");a?(this.setState(Object(m.a)(Object(m.a)({},this.state),{},{fullName:a})),this.Auth.fetchDataSchedulesApi(a).then((function(a){if(200===a.status){var n=a.data[0],r=[];Object.keys(n).map((function(e){var t=1*e,a=new Date(t).getFullYear(),o=new Date(t).getMonth(),c=new Date(t).getDate();return n[e].map((function(e){var t={},n="".concat(e.address.split("_")[0],"-").concat(e.address.split(" ")[1]);S.map((function(r,l){r===e.lesson&&(t.text="Ca ".concat(l+1," : ").concat(e.subject.split("-")[0]," : ").concat(n),t.startDate=new Date(a,o,c,L[l],A[l]),t.endDate=new Date(a,o,c,M[l],x[l]))})),r.push(t)})),r})),e.setState({data:r})}else t.replace("/schedule"),O.a.fire("\u0110\xe3 s\u1ea3y ra l\u1ed7i?","","error")}))):(t.replace("/schedule"),O.a.fire("B\u1ea1n ch\u01b0a nh\u1eadp t\xean c\u1ee7a b\u1ea1n?","","error"))}},{key:"render",value:function(){var e=this.state,t=e.data,a=e.fullName;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"schedule-container"},r.a.createElement("div",{className:"schedule-title"},r.a.createElement(g.a,null),r.a.createElement("p",null,"Th\u1eddi kh\xf3a bi\u1ec3u KMA")),r.a.createElement("div",{className:"icon-account"},r.a.createElement("p",null,"Xin ch\xe0o ".concat(a," !")),r.a.createElement(h.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu","aria-haspopup":"true",onClick:this.handleProfileMenuOpen,color:"inherit"},r.a.createElement("div",{className:"icon-account-avatar"},r.a.createElement("img",{className:"avatar-img",src:N.a,alt:"avatar"}))))),this.renderMenu(),r.a.createElement(E.a,{onOptionChanged:this.optionChanged,dataSource:t,views:C,adaptivityEnabled:!0,defaultCurrentView:"month",currentDate:this.state.currentDate,height:700,startDayHour:6,endDayHour:22}))}}]),a}(r.a.Component),I=Object(b.f)(T),B=a(173),H=a.n(B),F=a(261),P=a(509),z=a(508),G=a(512),K=a(510),V=(a(471),function(){return r.a.createElement("div",{className:"container-page-loading"},r.a.createElement("span",{className:"custom-page-loading"},r.a.createElement("span",null,"4"),r.a.createElement("span",null,"0"),r.a.createElement("span",null,"5")))}),J=(a(472),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).onChangeInput=function(e){n.setState(Object(m.a)(Object(m.a)({},n.state),{},{fullName:e.target.value}))},n.onSubmitFormLogin=Object(F.a)(H.a.mark((function e(){var t,a;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props.history,a=n.state.fullName){e.next=6;break}O.a.fire("Vui l\xf2ng nh\u1eadp t\xean c\u1ee7a b\u1ea1n !","vd: dangtruonggiang","error"),e.next=13;break;case 6:if(!("undefined"===typeof a||a.trim().length<a.length||a.split(" ").length>1||null===a)&&a.match(/^[0-9a-zA-Z]{0,}$/)){e.next=10;break}O.a.fire("T\xe0i kho\u1ea3n ho\u1eb7c M\u1eadt kh\u1ea9u c\u1ee7a b\u1ea1n kh\xf4ng \u0111\xfang \u0111\u1ecbnh d\u1ea1ng !","","error"),e.next=13;break;case 10:return n.showLoadding(),e.next=13,n.Auth.fetchDataSchedulesApi(a).then((function(e){200===e.status?(localStorage.setItem("fullName",a),setTimeout((function(){n.showAlert(!0),n.hideLoadding(),t.replace("/schedule/view")}),1500)):(n.showAlert(!1),setTimeout((function(){n.hideLoadding()}),1500))}));case 13:case"end":return e.stop()}}),e)}))),n.showAlert=function(e){O.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,onOpen:function(e){e.addEventListener("mouseenter",O.a.stopTimer),e.addEventListener("mouseleave",O.a.resumeTimer)}}).fire({icon:"".concat(e?"success":"error"),title:"".concat(e?"\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng !":"\u0110\xe3 x\u1ea3y ra l\u1ed7i ! H\xe3y ki\u1ec3m tra l\u1ea1i !")})},n.showLoadding=function(){n.setState({showLoadding:!0})},n.hideLoadding=function(){n.setState({showLoadding:!1})},n.state={showLoadding:!1,fullName:""},n.Auth=new D,n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){localStorage.getItem("fullName")&&this.props.history.replace("/schedule/view")}},{key:"render",value:function(){var e=this.state,t=e.showLoadding,a=e.fullName;return r.a.createElement("div",{className:"container"},t?r.a.createElement("div",{className:"loadding"},r.a.createElement(V,null)):"",r.a.createElement("div",{className:"background"},r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Th\u1eddi Kh\xf3a bi\u1ec3u KMA"),r.a.createElement("form",{className:"login-form"},r.a.createElement("div",{className:"login-form-account"},r.a.createElement(z.a,{variant:"outlined",className:""},r.a.createElement(G.a,{id:"demo-simple-select-outlined-label"},"H\u1ecd v\xe0 T\xean"),r.a.createElement(K.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:a,onChange:this.onChangeInput,label:"H\u1ecd v\xe0 t\xean"},r.a.createElement(p.a,{value:"dangtruonggiang"},"\u0110\u1eb7ng Tr\u01b0\u1eddng Giang"),r.a.createElement(p.a,{value:"letranminhhieu"},"L\xea Tr\u1ea7n Minh Hi\u1ebfu"),r.a.createElement(p.a,{value:"nguyenvanlong"},"Nguy\u1ec5n V\u0103n Long")))),r.a.createElement(P.a,{onClick:this.onSubmitFormLogin,variant:"contained",color:"primary"},"GO")))))}}]),a}(n.Component)),W=Object(b.f)(J),$=a(262),X=(a(473),function(e){Object(u.a)(a,e);var t=Object(s.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement($.a,null,r.a.createElement(b.c,null,r.a.createElement(b.a,{path:"/schedule/view",component:function(){return r.a.createElement(I,null)}}),r.a.createElement(b.a,{path:"/schedule",exact:!0,component:function(){return r.a.createElement(W,null)}})))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(X,null),document.getElementById("app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[269,1,2]]]);
//# sourceMappingURL=main.87bc6491.chunk.js.map